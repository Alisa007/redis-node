{"version":3,"sources":["../src/app.js"],"names":[],"mappings":"AAAA;;AAEA;;IAAY,I;;AACZ;;;;AACA,IAAI,YAAY,0BAAhB;;AAEA,IAAI,SAAS,KAAK,YAAL,CAAkB,UAAS,GAAT,EAAc,GAAd,EAAmB;AAChD,MAAM,UAAU,UAAU,UAAV,EAAhB;;AAEA,YAAU,YAAV,CAAuB,OAAvB,EAAgC,UAAU,GAAV,EAAe,GAAf,EAAoB;AAClD,QAAI,GAAJ,EAAS;AACP,gBAAU,UAAV,CAAqB,GAArB;AACD;;AAED,QAAI,UAAJ,GAAiB,GAAjB;AACA,QAAI,GAAJ,CAAQ,IAAI,QAAJ,EAAR,EAAwB,IAAI,QAAJ,EAAxB;AACD,GAPD;AAQD,CAXY,CAAb;;AAaA,OAAO,MAAP,CAAc,IAAd,EAAoB,WAApB,EAAiC,YAAW;AAC1C,MAAM,OAAO,QAAQ,IAAR,CAAa,KAAb,CAAmB,CAAnB,CAAb;;AAEA,MAAI,KAAK,OAAL,CAAa,SAAb,IAA0B,CAAC,CAA/B,EAAkC;AAChC,cAAU,SAAV,CAAoB,YAAY;AAC9B,cAAQ,IAAR,CAAa,CAAb;AACD,KAFD;AAGD;;AAED,SAAO,QAAQ,GAAR,+BAAwC,OAAO,OAAP,GAAiB,OAAzD,SAAoE,OAAO,OAAP,GAAiB,IAArF,OAAP;AACD,CAVD;;AAYA,OAAO,EAAP,CAAU,OAAV,EAAmB,UAAU,GAAV,EAAe;AAChC,UAAQ,GAAR,CAAY,GAAZ;AACA,UAAQ,IAAR,CAAa,CAAb;AACD,CAHD","file":"app.js","sourcesContent":["'use strict';\n\nimport * as http from 'http';\nimport {Messenger} from './messenger';\nlet generator = new Messenger();\n\nvar server = http.createServer(function(req, res) {\n  const message = generator.getMessage();\n\n  generator.eventHandler(message, function (err, msg) {\n    if (err) {\n      generator.addMessage(msg);\n    }\n\n    res.statusCode = 200;\n    res.end(err.toString(), msg.toString());\n  });\n});\n\nserver.listen(3000, '127.0.0.1', function() {\n  const args = process.argv.slice(2);\n\n  if (args.indexOf('-errors') > -1) {\n    generator.getErrors(function () {\n      process.exit(1);\n    });\n  }\n\n  return console.log(`Server running at http://${server.address().address}:${server.address().port}/`);\n});\n\nserver.on('error', function (err) {\n  console.log(err);\n  process.exit(0);\n});"]}